import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { motion, AnimatePresence } from 'framer-motion';
import { X, Eye, Mail, User, Calendar } from 'lucide-react';
const EmailPreviewModal = ({ isOpen, onClose, template, sampleData, subject }) => {
    // FunÃ§Ã£o para personalizar o template com os dados de exemplo
    const getPersonalizedTemplate = () => {
        return template
            .replace(/{{nome}}/g, sampleData.nome || 'Cliente')
            .replace(/{{oferta}}/g, sampleData.oferta || 'Oferta Especial')
            .replace(/{{desconto}}/g, sampleData.desconto || '30% OFF')
            .replace(/{{link}}/g, sampleData.link || '#')
            .replace(/{{descricao}}/g, sampleData.descricao || 'DescriÃ§Ã£o da oferta')
            .replace(/{{empresa}}/g, sampleData.empresa || 'Sua Empresa');
    };
    const personalizedTemplate = getPersonalizedTemplate();
    const currentDate = new Date().toLocaleString('pt-BR', {
        day: '2-digit',
        month: 'short',
        hour: '2-digit',
        minute: '2-digit'
    });
    return (_jsx(AnimatePresence, { children: isOpen && (_jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4", children: [_jsx(motion.div, { className: "absolute inset-0 bg-black bg-opacity-60", initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, onClick: onClose }), _jsxs(motion.div, { className: "relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden", initial: { opacity: 0, scale: 0.9, y: 20 }, animate: { opacity: 1, scale: 1, y: 0 }, exit: { opacity: 0, scale: 0.9, y: 20 }, transition: { type: "spring", stiffness: 300, damping: 30 }, children: [_jsxs("div", { className: "bg-gradient-to-r from-blue-600 to-indigo-700 p-4 text-white relative", children: [_jsx("button", { onClick: onClose, className: "absolute top-4 right-4 text-white/80 hover:text-white transition-colors z-10", children: _jsx(X, { className: "w-6 h-6" }) }), _jsxs("div", { className: "flex items-center space-x-3", children: [_jsx("div", { className: "bg-white/20 p-2 rounded-full", children: _jsx(Eye, { className: "w-5 h-5" }) }), _jsxs("div", { children: [_jsx("h2", { className: "text-xl font-bold", children: "Preview do Template" }), _jsx("p", { className: "text-blue-100 text-sm", children: "Visualize como seu email aparecer\u00E1 para o cliente" })] })] })] }), _jsxs("div", { className: "p-6 bg-gray-50 overflow-y-auto max-h-[calc(90vh-200px)]", children: [_jsxs("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden", children: [_jsxs("div", { className: "bg-gray-50 border-b border-gray-200 p-4", children: [_jsxs("div", { className: "flex items-center justify-between mb-3", children: [_jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(Mail, { className: "w-5 h-5 text-red-500" }), _jsx("span", { className: "font-medium text-gray-900", children: "Gmail" })] }), _jsx("span", { className: "text-xs text-gray-500", children: currentDate })] }), _jsxs("div", { className: "space-y-2", children: [_jsxs("div", { className: "flex items-center space-x-3", children: [_jsx(User, { className: "w-4 h-4 text-gray-400" }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "text-sm", children: [_jsx("span", { className: "font-medium text-gray-900", children: "Via Forte Express" }), _jsx("span", { className: "text-gray-500 ml-1", children: "<contato@viaforteexpress.com>" })] }), _jsxs("div", { className: "text-xs text-gray-500", children: ["para ", sampleData.nome, " <", sampleData.nome.toLowerCase().replace(' ', '.'), "@exemplo.com>"] })] })] }), _jsx("div", { className: "border-t border-gray-100 pt-2", children: _jsx("h3", { className: "font-medium text-gray-900 text-lg", children: subject || `ðŸŽ¯ ${sampleData.oferta} - Oferta Especial para ${sampleData.nome}` }) })] })] }), _jsx("div", { className: "p-6", children: _jsx("div", { dangerouslySetInnerHTML: { __html: personalizedTemplate }, className: "prose prose-sm max-w-none", style: {
                                                    fontFamily: 'Arial, sans-serif',
                                                    lineHeight: '1.6',
                                                    color: '#333'
                                                } }) }), _jsx("div", { className: "bg-gray-50 border-t border-gray-200 p-4", children: _jsxs("div", { className: "flex items-center justify-between text-xs text-gray-500", children: [_jsxs("div", { className: "flex items-center space-x-4", children: [_jsx("button", { className: "hover:text-gray-700", children: "Responder" }), _jsx("button", { className: "hover:text-gray-700", children: "Encaminhar" })] }), _jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(Calendar, { className: "w-3 h-3" }), _jsx("span", { children: "Hoje" })] })] }) })] }), _jsxs("div", { className: "mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4", children: [_jsxs("h4", { className: "font-medium text-blue-900 mb-2 flex items-center", children: [_jsx(Eye, { className: "w-4 h-4 mr-2" }), "Dados do Preview"] }), _jsxs("div", { className: "grid grid-cols-2 gap-3 text-sm", children: [_jsxs("div", { children: [_jsx("span", { className: "font-medium text-blue-800", children: "Nome:" }), _jsx("span", { className: "text-blue-700 ml-2", children: sampleData.nome })] }), _jsxs("div", { children: [_jsx("span", { className: "font-medium text-blue-800", children: "Oferta:" }), _jsx("span", { className: "text-blue-700 ml-2", children: sampleData.oferta })] }), _jsxs("div", { children: [_jsx("span", { className: "font-medium text-blue-800", children: "Desconto:" }), _jsx("span", { className: "text-blue-700 ml-2", children: sampleData.desconto })] }), _jsxs("div", { children: [_jsx("span", { className: "font-medium text-blue-800", children: "Empresa:" }), _jsx("span", { className: "text-blue-700 ml-2", children: sampleData.empresa || 'N/A' })] })] })] })] }), _jsx("div", { className: "bg-white border-t border-gray-200 p-4 flex justify-end space-x-3", children: _jsx("button", { onClick: onClose, className: "px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors", children: "Fechar Preview" }) })] })] })) }));
};
export default EmailPreviewModal;
